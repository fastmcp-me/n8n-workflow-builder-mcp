{
  "nodeType": "@n8n/n8n-nodes-langchain.chatTrigger",
  "displayName": "Chat Trigger",
  "description": "Runs the workflow when an n8n generated webchat is submitted",
  "version": [
    1,
    1.1,
    1.2,
    1.3
  ],
  "properties": [
    {
      "name": "allowedOrigins",
      "displayName": "Allowed Origins (CORS)",
      "type": "string",
      "default": "*",
      "description": "Comma-separated list of URLs allowed for cross-origin non-preflight requests. Use * (default) to allow all origins.",
      "displayOptions": {
        "show": {
          "/mode": [
            "hostedChat",
            "webhook"
          ]
        }
      }
    },
    {
      "name": "inputPlaceholder",
      "displayName": "Input Placeholder",
      "type": "string",
      "default": "Type your question..",
      "description": "Shown as placeholder text in the chat input field",
      "placeholder": "e.g. Type your message here",
      "displayOptions": {
        "show": {
          "/mode": [
            "hostedChat"
          ]
        }
      }
    },
    {
      "name": "loadPreviousSession",
      "displayName": "Load Previous Session",
      "type": "options",
      "default": "notSupported",
      "description": "Loading messages of previous session is turned off",
      "options": [
        {
          "name": "Off",
          "value": "notSupported",
          "description": "Loading messages of previous session is turned off"
        },
        {
          "name": "From Memory",
          "value": "memory",
          "description": "Load session messages from memory"
        },
        {
          "name": "Manually",
          "value": "manually",
          "description": "Manually return messages of session"
        }
      ]
    },
    {
      "name": "showWelcomeScreen",
      "displayName": "Require Button Click to Start Chat",
      "type": "boolean",
      "default": false,
      "description": "Whether to show the welcome screen at the start of the chat",
      "displayOptions": {
        "show": {
          "/mode": [
            "hostedChat"
          ]
        }
      }
    },
    {
      "name": "getStarted",
      "displayName": "Start Conversation Button Text",
      "type": "string",
      "default": "New Conversation",
      "description": "Shown as part of the welcome screen, in the middle of the chat window",
      "placeholder": "e.g. New Conversation",
      "displayOptions": {
        "show": {
          "showWelcomeScreen": [
            true
          ],
          "/mode": [
            "hostedChat"
          ]
        }
      }
    },
    {
      "name": "subtitle",
      "displayName": "Subtitle",
      "type": "string",
      "default": "Start a chat. We're here to help you 24/7.",
      "description": "Shown at the top of the chat, under the title",
      "placeholder": "e.g. We're here for you",
      "displayOptions": {
        "show": {
          "/mode": [
            "hostedChat"
          ]
        }
      }
    },
    {
      "name": "title",
      "displayName": "Title",
      "type": "string",
      "default": "Hi there! ðŸ‘‹",
      "description": "Shown at the top of the chat",
      "placeholder": "e.g. Welcome",
      "displayOptions": {
        "show": {
          "/mode": [
            "hostedChat"
          ]
        }
      }
    },
    {
      "name": "customCss",
      "displayName": "Custom Chat Styling",
      "type": "string",
      "default": null,
      "description": "Override default styling of the public chat interface with CSS",
      "typeOptions": {
        "rows": 10
      },
      "displayOptions": {
        "show": {
          "/mode": [
            "hostedChat"
          ]
        }
      }
    },
    {
      "name": "public",
      "displayName": "Make Chat Publicly Available",
      "type": "boolean",
      "default": false,
      "description": "Whether the chat should be publicly available or only accessible through the manual chat interface"
    },
    {
      "name": "mode",
      "displayName": "Mode",
      "type": "options",
      "default": "hostedChat",
      "description": "Chat on a page served by n8n",
      "options": [
        {
          "name": "Hosted Chat",
          "value": "hostedChat",
          "description": "Chat on a page served by n8n"
        },
        {
          "name": "Embedded Chat",
          "value": "webhook",
          "description": "Chat through a widget embedded in another page, or by calling a webhook"
        }
      ],
      "displayOptions": {
        "show": {
          "public": [
            true
          ]
        }
      }
    },
    {
      "name": "hostedChatNotice",
      "displayName": "Chat will be live at the URL above once you activate this workflow. Live executions will show up in the â€˜executionsâ€™ tab",
      "type": "notice",
      "default": "",
      "displayOptions": {
        "show": {
          "mode": [
            "hostedChat"
          ],
          "public": [
            true
          ]
        }
      }
    },
    {
      "name": "embeddedChatNotice",
      "displayName": "Follow the instructions <a href=\"https://www.npmjs.com/package/@n8n/chat\" target=\"_blank\">here</a> to embed chat in a webpage (or just call the webhook URL at the top of this section). Chat will be live once you activate this workflow",
      "type": "notice",
      "default": "",
      "displayOptions": {
        "show": {
          "mode": [
            "webhook"
          ],
          "public": [
            true
          ]
        }
      }
    },
    {
      "name": "authentication",
      "displayName": "Authentication",
      "type": "options",
      "default": "none",
      "description": "Simple username and password (the same one for all users)",
      "options": [
        {
          "name": "Basic Auth",
          "value": "basicAuth",
          "description": "Simple username and password (the same one for all users)"
        },
        {
          "name": "n8n User Auth",
          "value": "n8nUserAuth",
          "description": "Require user to be logged in with their n8n account"
        },
        {
          "name": "None",
          "value": "none"
        }
      ],
      "displayOptions": {
        "show": {
          "public": [
            true
          ]
        }
      }
    },
    {
      "name": "initialMessages",
      "displayName": "Initial Message(s)",
      "type": "string",
      "default": "Hi there! ðŸ‘‹\\nMy name is Nathan. How can I assist you today?",
      "description": "Default messages shown at the start of the chat, one per line",
      "typeOptions": {
        "rows": 3
      },
      "displayOptions": {
        "show": {
          "mode": [
            "hostedChat"
          ],
          "public": [
            true
          ]
        }
      }
    },
    {
      "name": "options",
      "displayName": "Options",
      "type": "collection",
      "default": {},
      "placeholder": "Add Field",
      "displayOptions": {
        "show": {
          "public": [
            false
          ],
          "@version": [
            1,
            1.1
          ]
        }
      }
    }
  ],
  "credentialsConfig": [
    {
      "name": "httpBasicAuth",
      "required": true
    },
    {
      "name": "setup",
      "required": false
    },
    {
      "name": "public",
      "required": false
    },
    {
      "name": "hostedChatNotice",
      "required": false
    },
    {
      "name": "initialMessages",
      "required": false
    },
    {
      "name": "options",
      "required": false
    },
    {
      "name": "options",
      "required": false
    },
    {
      "name": "responseMode",
      "required": false
    },
    {
      "name": "options",
      "required": false
    },
    {
      "name": "responseMode",
      "required": false
    }
  ],
  "io": {
    "inputs": [
      "AiMemory"
    ],
    "outputs": [
      "Main"
    ],
    "outputNames": [],
    "hints": {}
  },
  "wiring": {
    "role": "chatTrigger",
    "requires": [],
    "optional": [
      "AiMemory"
    ],
    "consumedBy": [],
    "consumes": [
      "AiMemory"
    ],
    "produces": [
      "Main"
    ]
  }
}