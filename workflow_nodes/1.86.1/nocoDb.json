{
  "nodeType": "n8n-nodes-base.nocoDb",
  "displayName": "NocoDB",
  "description": "Read, update, write and delete data from NocoDB",
  "version": [
    1,
    2,
    3
  ],
  "properties": [
    {
      "name": "workspaceId",
      "displayName": "Workspace Name or ID",
      "type": "options",
      "default": "none",
      "description": "Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>",
      "displayOptions": {
        "show": {
          "version": [
            3
          ]
        }
      }
    },
    {
      "name": "projectId",
      "displayName": "Base Name or ID",
      "type": "options",
      "default": "",
      "description": "Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>",
      "required": true,
      "displayOptions": {
        "show": {
          "version": [
            3
          ]
        }
      }
    },
    {
      "name": "table",
      "displayName": "Table Name or ID",
      "type": "options",
      "default": "",
      "description": "The table to operate on. Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.",
      "required": true,
      "displayOptions": {
        "show": {
          "version": [
            2,
            3
          ]
        }
      }
    },
    {
      "name": "primaryKey",
      "displayName": "Primary Key Type",
      "type": "options",
      "default": "id",
      "description": "Default, added when table was created from UI by those options: Create new table / Import from Excel / Import from CSV",
      "options": [
        {
          "name": "Default",
          "value": "id",
          "description": "Default, added when table was created from UI by those options: Create new table / Import from Excel / Import from CSV"
        },
        {
          "name": "Imported From Airtable",
          "value": "ncRecordId",
          "description": "Select if table was imported from Airtable"
        },
        {
          "name": "Custom",
          "value": "custom",
          "description": "When connecting to existing external database as existing primary key field is retained as is, enter the name of the primary key field below"
        }
      ],
      "displayOptions": {
        "show": {
          "version": [
            1,
            2
          ],
          "operation": [
            "delete",
            "update"
          ]
        }
      }
    },
    {
      "name": "customPrimaryKey",
      "displayName": "Field Name",
      "type": "string",
      "default": "",
      "displayOptions": {
        "show": {
          "version": [
            1,
            2
          ],
          "operation": [
            "delete",
            "update"
          ],
          "primaryKey": [
            "custom"
          ]
        }
      }
    },
    {
      "name": "id",
      "displayName": "Row ID Value",
      "type": "string",
      "default": "",
      "description": "The value of the ID field",
      "required": true,
      "displayOptions": {
        "show": {
          "version": [
            1,
            2
          ],
          "operation": [
            "delete",
            "get",
            "update"
          ]
        }
      }
    },
    {
      "name": "returnAll",
      "displayName": "Return All",
      "type": "boolean",
      "default": false,
      "description": "Whether to return all results or only up to a given limit",
      "displayOptions": {
        "show": {
          "operation": [
            "getAll"
          ]
        }
      }
    },
    {
      "name": "limit",
      "displayName": "Limit",
      "type": "number",
      "default": 50,
      "description": "Max number of results to return",
      "typeOptions": {
        "minValue": 1,
        "maxValue": 100
      },
      "displayOptions": {
        "show": {
          "operation": [
            "getAll"
          ],
          "returnAll": [
            false
          ]
        }
      }
    },
    {
      "name": "downloadAttachments",
      "displayName": "Download Attachments",
      "type": "boolean",
      "default": false,
      "description": "Whether the attachment fields define in 'Download Fields' will be downloaded",
      "displayOptions": {
        "show": {
          "operation": [
            "getAll"
          ]
        }
      }
    },
    {
      "name": "downloadFieldNames",
      "displayName": "Download Fields",
      "type": "string",
      "default": "",
      "description": "Name of the fields of type 'attachment' that should be downloaded. Multiple ones can be defined separated by comma. Case sensitive.",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "getAll"
          ],
          "downloadAttachments": [
            true
          ]
        }
      }
    },
    {
      "name": "options",
      "displayName": "Options",
      "type": "collection",
      "default": {},
      "description": "The select fields of the returned rows",
      "placeholder": "Add option",
      "options": [
        {
          "name": "viewId",
          "displayName": "View ID",
          "type": "string",
          "default": "",
          "description": "The select fields of the returned rows",
          "placeholder": "View ID"
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "getAll"
          ]
        }
      }
    },
    {
      "name": "dataToSend",
      "displayName": "Data to Send",
      "type": "options",
      "default": "defineBelow",
      "description": "Use when node input properties match destination column names",
      "options": [
        {
          "name": "Auto-Map Input Data to Columns",
          "value": "autoMapInputData",
          "description": "Use when node input properties match destination column names"
        },
        {
          "name": "Define Below for Each Column",
          "value": "defineBelow",
          "description": "Set the value for each destination column"
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "create",
            "update"
          ]
        }
      }
    },
    {
      "name": "info",
      "displayName": "In this mode, make sure the incoming data fields are named the same as the columns in NocoDB. (Use an 'Edit Fields' node before this node to change them if required.)",
      "type": "notice",
      "default": "",
      "displayOptions": {
        "show": {
          "dataToSend": [
            "autoMapInputData"
          ]
        }
      }
    },
    {
      "name": "inputsToIgnore",
      "displayName": "Inputs to Ignore",
      "type": "string",
      "default": "",
      "description": "List of input properties to avoid sending, separated by commas. Leave empty to send all properties.",
      "placeholder": "Enter properties...",
      "displayOptions": {
        "show": {
          "operation": [
            "create",
            "update"
          ],
          "dataToSend": [
            "autoMapInputData"
          ]
        }
      }
    },
    {
      "name": "fieldsUi",
      "displayName": "Fields to Send",
      "type": "fixedCollection",
      "default": {},
      "description": "Whether the field data to set is binary and should be taken from a binary property",
      "placeholder": "Add Field",
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "operation": [
            "create",
            "update"
          ],
          "dataToSend": [
            "defineBelow"
          ]
        }
      }
    },
    {
      "name": "authentication",
      "displayName": "Authentication",
      "type": "options",
      "default": "nocoDb",
      "options": [
        {
          "name": "API Token",
          "value": "nocoDbApiToken"
        },
        {
          "name": "User Token",
          "value": "nocoDb"
        }
      ]
    },
    {
      "name": "version",
      "displayName": "API Version",
      "type": "options",
      "default": 1,
      "options": [
        {
          "name": "Before v0.90.0",
          "value": 1
        },
        {
          "name": "v0.90.0 Onwards",
          "value": 2
        },
        {
          "name": "v0.200.0 Onwards",
          "value": 3
        }
      ],
      "displayOptions": {
        "show": {
          "@version": [
            1
          ]
        }
      }
    },
    {
      "name": "resource",
      "displayName": "Resource",
      "type": "options",
      "default": "row",
      "options": [
        {
          "name": "Row",
          "value": "row"
        }
      ]
    },
    {
      "name": "operation",
      "displayName": "Operation",
      "type": "options",
      "default": "get",
      "description": "Create a row",
      "options": [
        {
          "name": "Create",
          "value": "create",
          "description": "Create a row"
        },
        {
          "name": "Delete",
          "value": "delete",
          "description": "Delete a row"
        },
        {
          "name": "Get",
          "value": "get",
          "description": "Retrieve a row"
        },
        {
          "name": "Get Many",
          "value": "getAll",
          "description": "Retrieve many rows"
        },
        {
          "name": "Update",
          "value": "update",
          "description": "Update a row"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "row"
          ]
        }
      }
    }
  ],
  "credentialsConfig": [
    {
      "name": "nocoDb",
      "required": true
    },
    {
      "name": "authentication",
      "required": false
    },
    {
      "name": "version",
      "required": false
    },
    {
      "name": "version",
      "required": false
    },
    {
      "name": "version",
      "required": false
    },
    {
      "name": "resource",
      "required": false
    },
    {
      "name": "operation",
      "required": false
    },
    {
      "name": "No Workspace",
      "required": false
    }
  ],
  "io": {
    "inputs": [
      "Main"
    ],
    "outputs": [
      "Main"
    ],
    "outputNames": [],
    "hints": {}
  },
  "wiring": {
    "role": "generic",
    "requires": [],
    "optional": [],
    "consumedBy": [],
    "consumes": [
      "Main"
    ],
    "produces": [
      "Main"
    ]
  }
}